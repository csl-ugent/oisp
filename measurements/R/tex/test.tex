\documentclass{article}
\usepackage{tikz}
\usepackage{graphicx}
\begin{document}

\gdef\rcaption{foo}


Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque pretium dolor tempus lacus molestie rutrum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi eget porta enim. Suspendisse non dui posuere, vehicula nibh accumsan, aliquam libero. Praesent lacinia egestas imperdiet. Phasellus convallis, nisl nec consequat lobortis, mauris tellus pulvinar diam, nec hendrerit urna est volutpat dui. Maecenas id porttitor arcu. Proin sit amet arcu arcu. Integer lobortis, orci non commodo sodales, sem massa convallis ante, quis finibus magna elit sit amet nunc. Maecenas venenatis, turpis commodo congue elementum, ipsum tellus pharetra quam, vitae tincidunt mi justo in nisl.

Interdum et malesuada fames ac ante ipsum primis in faucibus. Quisque interdum mauris lectus, vel pellentesque purus vehicula ac. Ut vel maximus nisl, sed ullamcorper lacus. Proin auctor pretium mi, sed tempor est posuere nec. Ut tincidunt vulputate imperdiet. Curabitur ornare, quam a commodo molestie, metus nulla tristique leo, luctus pretium sem risus ut nunc. Morbi quis massa lobortis, iaculis mauris eget, placerat augue. Duis molestie aliquet dignissim. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum dignissim turpis vel tincidunt bibendum. Pellentesque sed felis ultricies sem volutpat scelerisque. Phasellus in eleifend diam. Etiam ac accumsan augue.

\begin{figure}[h]
  \centering
  \resizebox{\linewidth}{!}{\input{foo}}
  \caption{\rcaption}
\end{figure}

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque pretium dolor tempus lacus molestie rutrum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi eget porta enim. Suspendisse non dui posuere, vehicula nibh accumsan, aliquam libero. Praesent lacinia egestas imperdiet. Phasellus convallis, nisl nec consequat lobortis, mauris tellus pulvinar diam, nec hendrerit urna est volutpat dui. Maecenas id porttitor arcu. Proin sit amet arcu arcu. Integer lobortis, orci non commodo sodales, sem massa convallis ante, quis finibus magna elit sit amet nunc. Maecenas venenatis, turpis commodo congue elementum, ipsum tellus pharetra quam, vitae tincidunt mi justo in nisl.

Interdum et malesuada fames ac ante ipsum primis in faucibus. Quisque interdum mauris lectus, vel pellentesque purus vehicula ac. Ut vel maximus nisl, sed ullamcorper lacus. Proin auctor pretium mi, sed tempor est posuere nec. Ut tincidunt vulputate imperdiet. Curabitur ornare, quam a commodo molestie, metus nulla tristique leo, luctus pretium sem risus ut nunc. Morbi quis massa lobortis, iaculis mauris eget, placerat augue. Duis molestie aliquet dignissim. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum dignissim turpis vel tincidunt bibendum. Pellentesque sed felis ultricies sem volutpat scelerisque. Phasellus in eleifend diam. Etiam ac accumsan augue.

Vestibulum pulvinar at felis eleifend condimentum. Proin diam elit, cursus in sem vitae, pellentesque luctus enim. Aliquam suscipit vestibulum eros id euismod. Morbi nec libero ac augue egestas euismod. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras egestas eu libero vel ullamcorper. Suspendisse ac odio vel nibh fermentum pulvinar bibendum ac ligula. Donec mattis eu nulla et venenatis.

Praesent lacus magna, placerat feugiat pellentesque non, aliquam a odio. Mauris ligula mi, facilisis sed aliquam non, scelerisque id orci. Pellentesque cursus convallis est ac interdum. Donec consequat ipsum vitae sapien hendrerit cursus ut in quam. Nunc dictum facilisis ante a faucibus. Mauris sagittis, ex eget tempor aliquet, erat augue gravida erat, ut malesuada velit libero in tellus. Nulla sed augue posuere, tempor eros sed, varius erat. Sed non libero ut sem tristique dignissim. Suspendisse gravida, massa non semper laoreet, mi mauris aliquet nibh, in hendrerit justo lacus non leo. Suspendisse aliquam pellentesque feugiat. Ut nec rhoncus lorem. Vivamus ut vulputate dui. Vestibulum non mollis purus, vel posuere metus. Donec egestas, nulla ut convallis efficitur, nulla eros lacinia mi, maximus sodales elit arcu id neque.

Donec eget volutpat erat. Praesent malesuada nisl eget tortor vehicula malesuada. Fusce varius, eros sed varius varius, tellus nisl maximus ligula, ut elementum libero elit nec lorem. Vivamus pulvinar semper malesuada. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vivamus viverra gravida est sed fringilla. Vivamus pellentesque, ante quis hendrerit luctus, nunc nisl pulvinar dui, a scelerisque ante felis sit amet dolor. Nam velit augue, porttitor at elit et, tincidunt maximus lacus. Sed id semper lectus. Vivamus eget suscipit lectus. 
\end{document}
